# a payment puts the bot into a low fuel state

############################
# setup bots and payment
bots:
  - meta: { baseFilename: bot01.yml }
    state: brandnew
    payments: ~
    balances:
        LTBCOIN: 0
        BTC: 0


############################
# receive notifications from xchain
xchainNotifications:
  # receive a payment
  - meta: { baseFilename: confirmed_BTC_RECEIVE_PAYMENT_notification_01.yml }
  # now receive an incoming tx
  - meta: { baseFilename: confirmed_LTBCOIN_RECEIVE_notification_01.yml }


############################
# validate the expected results
expectedXChainCalls:
  # - 
  #   meta: { baseFilename: get_balances.yml }


expectedBotEvents:
  - #### confirmed payment received
    meta: { baseFilename: payment.confirmed.yml }
  - #### move fuel transaction created
    meta: { baseFilename: payment.moveFuelCreated.yml }
  - #### creation fee paid
    meta: { baseFilename: payment.creationFeePaid.yml }
  - #### LOWFUEL
    meta: { baseFilename: bot.stateChange-lowfuel.yml }
  - # transaction ignored due to lowfuel state
    meta: { baseFilename: bot.lowfuel.yml }
  - #### NEW
    meta: { baseFilename: swap.new.yml }
